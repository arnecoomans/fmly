{% extends 'index.html' %}
{% load i18n %}

{% block content %}
  {% if not perms.archive.view_person %}
    <!-- Check if user has permissions -->
    <div class="alert alert-danger" role="alert">
      {% translate 'An error occurred' %}: {% translate 'you have no rights to add, view or edit this'%} {% translate 'tag'|lower %}.<br>
      {% translate 'If you feel this error is incorrect, please inform the site admin' %}.
    </div>
  {% elif not tag_list %}
    <!-- Check if object has items to show -->
    <div class="alert alert-danger" role="alert">
      {% translate 'An error occurred' %}: {% translate 'there is no '%} {% translate 'tag'%} {% translate 'available' %}.
    </div>
  {% else %}
  <header>
    <h2>{% translate 'Tags' %}:</h2>
    {% if page_description %}<div class="page_description">{{ page_description|safe }}.{% endif %}
  </header>
    <div class="objects">
      <ul class="tags no-bullets">
        {% for tag in tag_list %}
        <li class="tag bi bi-tag-fill{% if request.GET.mark|lower == tag.slug|lower %} marked{% endif %}">
          <a href="{% url 'archive:image-with-tag' tag.slug %}" class="tag">{{ tag.title|title }}</a>
          <span class="image_counter" {% if tag.get_hidden_images.count > 0 %} data-bs-toggle="tooltip" data-bs-placement="top" title="Verborgen afbeeldingen beschikbaar"{% endif %}>({{ tag.get_images.count }}{% if tag.get_hidden_images.count > 0 %}<i>*</i>{% endif %})</span>
          {% if perms.archive.change_tag %}<a class="bi bi-pencil-fill" href="{% url 'archive:edit-tag' tag.slug %}" data-bs-toggle="tooltip" data-bs-placement="top" title="Bewerk tag &quot;{{ tag }}&quot;"> </a>{% endif %}
          {% if tag.description %}
            <br>
            <span class="description">{{ tag.description }}</span>
          {% endif %}
        </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}
{% endblock %}